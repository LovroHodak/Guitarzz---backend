{"version":3,"sources":["components/Home.js","components/Detail.js","components/Footer.js","components/Navbar.js","components/Cart.js","components/Order.js","components/OrderSuccess.js","components/Admin.js","App.js","index.js"],"names":["Home","products","className","map","product","src","image","alt","name","price","to","_id","Detail","match","handleAddToCart","handleDeleteFromCart","useState","setProduct","initialStock","setInitialStock","paramsId","params","id","useEffect","axios","get","withCredentials","then","response","data","stock","addToCart","deleteFromCart","filter","item","i","onClick","description","Footer","style","textDecoration","color","Navbar","basketItems","Cart","initialState","total","handleOrder","Order","addUserData","warning","onSubmit","type","placeholder","OrderSuccess","thankYou","textAlign","Admin","orders","setOrders","order","createdAt","userEmail","userName","userLastName","userStreet","userCity","orderDetails","detail","reverse","withRouter","history","useHistory","setProducts","setInitialState","setBasketItems","setTotal","setThankYou","orderData","setOrderData","setWarning","newProducts","result","oneItemPrice","e","preventDefault","userInfo","target","email","value","lastname","street","city","orderedDataMapJoin","el","join","post","JSON","stringify","console","log","updateAllProducts","push","catch","patch","exact","path","render","routeProps","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3fe3160e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./styles/Home.css\";\r\n\r\nexport default function Home({ products }) {\r\n  return (\r\n    <div className=\"home\">\r\n      {products.map((product) => {\r\n        return (\r\n          <div key={product._id} className=\"home-map\">\r\n            <img src={product.image} alt={product.name} className=\"home-img\" />\r\n\r\n            <div className=\"home-div-content\">\r\n              <h2 className=\"home-name\">{product.name}</h2>\r\n\r\n              <p>\r\n                Price: <b>{product.price} €</b>\r\n              </p>\r\n\r\n              <Link className=\"home-link\" to={`/detail/${product._id}`}>\r\n                <button className=\"home-button\">View</button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./styles/Detail.css\";\r\nimport Magnifier from \"react-magnifier\";\r\n\r\nexport default function Detail({\r\n  match,\r\n  handleAddToCart,\r\n  products,\r\n  handleDeleteFromCart,\r\n}) {\r\n  const [product, setProduct] = useState({});\r\n  const [initialStock, setInitialStock] = useState();\r\n\r\n  let paramsId = match.params.id;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:5000/api/products/${paramsId}`, {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        setProduct(response.data);\r\n        setInitialStock(response.data.stock);\r\n      });\r\n  }, []);\r\n\r\n  const addToCart = () => {\r\n    handleAddToCart(product.id);\r\n    setProduct({ ...product, stock: product.stock - 1 });\r\n  };\r\n\r\n  const deleteFromCart = () => {\r\n    handleDeleteFromCart(product.id);\r\n    setProduct({ ...product, stock: product.stock + 1 });\r\n  };\r\n\r\n  return (\r\n    <div className=\"detail\">\r\n      <div className=\"detail-top\">\r\n        <div className=\"detail-div-img\">\r\n          <Magnifier\r\n            src={product.image}\r\n            alt={product.name}\r\n            className=\"detail-img\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"detail-info\">\r\n          <p>\r\n            Name: <b>{product.name}</b>\r\n          </p>\r\n          <p>\r\n            Price: <b>{product.price} €</b>\r\n          </p>\r\n          <p>\r\n            In Stock:{\" \"}\r\n            <b>\r\n              {products\r\n                .filter((product) => {\r\n                  return product._id === paramsId;\r\n                })\r\n                .map((item, i) => {\r\n                  return <b key={i}>{item.stock}</b>;\r\n                })}\r\n            </b>\r\n          </p>\r\n          {products.map((item) => {\r\n            if (item._id == paramsId && item.stock > 0) {\r\n              return (\r\n                <button key={item._id} onClick={addToCart}>\r\n                  Add\r\n                </button>\r\n              );\r\n            }\r\n          })}\r\n\r\n          {products.map((item) => {\r\n            if (item._id === paramsId && initialStock !== item.stock) {\r\n              return (\r\n                <button key={item._id} onClick={deleteFromCart}>\r\n                  Delete\r\n                </button>\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div className=\"detail-bottom\">\r\n        <p>{product.description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/Footer.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <div className=\"footer\">\r\n      <Link style={{ textDecoration: \"none\", color: \"white\" }} to=\"/admin\">\r\n        <h1>Admin</h1>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/Navbar.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Navbar({ basketItems }) {\r\n  return (\r\n    <div className=\"navbar\">\r\n      <h1 className=\"navbar-info\">Info</h1>\r\n      <Link to=\"/\">\r\n        <img\r\n          src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSop6suReRaIfINd-3HAcAFv6COrVU5E9-Rzg&usqp=CAU\"\r\n          alt=\"logo\"\r\n          className=\"navbar-logo\"\r\n        />\r\n      </Link>\r\n      <div className=\"navbar-cart\">\r\n        <h1>\r\n          <Link className=\"navbar-link\" to=\"/cart\">\r\n            Cart ({basketItems})\r\n          </Link>\r\n        </h1>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/Cart.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Cart({\r\n  products,\r\n  initialState,\r\n  total,\r\n  handleAddToCart,\r\n  handleDeleteFromCart,\r\n  handleOrder,\r\n}) {\r\n  const addToCart = (product) => {\r\n    handleAddToCart(product.id);\r\n  };\r\n\r\n  const deleteFromCart = (product) => {\r\n    handleDeleteFromCart(product.id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n      <div className=\"cart-items\">\r\n        {products\r\n          .filter((product) => {\r\n            return product.stock !== initialState[product.id].stock;\r\n          })\r\n          .map((item) => {\r\n            return (\r\n              <div key={item.id} className=\"cart-item\">\r\n                <div className=\"cart-div-img\">\r\n                  <img src={item.image} alt={item.name} className=\"cart-img\" />\r\n                </div>\r\n                <div className=\"cart-info\">\r\n                  <h1>{item.name}</h1>\r\n\r\n                  <p>\r\n                    Price:{\" \"}\r\n                    <b className=\"cart-total-b\">\r\n                      {(initialState[item.id].stock - item.stock) * item.price}\r\n                    </b>{\" \"}\r\n                    €\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"cart-volume\">\r\n                  <p>\r\n                    Nr. of items:{\" \"}\r\n                    <b>{initialState[item.id].stock - item.stock}</b>\r\n                  </p>\r\n                  <div className=\"cart-buttons\">\r\n                    {item.stock > 0 ? (\r\n                      <button\r\n                        onClick={() => addToCart(item)}\r\n                        className=\"cart-button\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n\r\n                    <button\r\n                      onClick={() => deleteFromCart(item)}\r\n                      className=\"cart-button\"\r\n                    >\r\n                      -\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n      {total === 0 ? (\r\n        <div className=\"cart-empty\">\r\n          <h1>Your cart is empty!</h1>\r\n        </div>\r\n      ) : (\r\n        <div className=\"cart-bottom\">\r\n          <p>\r\n            Total: <b className=\"cart-total-b\">{total}</b> €\r\n          </p>\r\n          <Link to=\"/order\">\r\n            <button onClick={() => handleOrder()} className=\"cart-order-button\">\r\n              Order\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./styles/Order.css\";\r\n\r\nexport default function Order({\r\n  products,\r\n  initialState,\r\n  total,\r\n  addUserData,\r\n  warning,\r\n}) {\r\n  return (\r\n    <div className=\"order\">\r\n      <div className=\"order-products\">\r\n        <h1 className=\"titles\">Your Products: </h1>\r\n        {products\r\n          .filter((product) => {\r\n            return product.stock !== initialState[product.id].stock;\r\n          })\r\n          .map((item, i) => {\r\n            return (\r\n              <div key={item.id}>\r\n                <h3>\r\n                  <i className=\"total-color\">{i + 1}.</i> {item.name}\r\n                </h3>\r\n                <p>\r\n                  Items: <b>{initialState[item.id].stock - item.stock}</b>\r\n                </p>\r\n                <p>\r\n                  Price:{\" \"}\r\n                  <b>\r\n                    {(initialState[item.id].stock - item.stock) * item.price}\r\n                  </b>{\" \"}\r\n                  €\r\n                </p>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n\r\n      <div className=\"order-user\">\r\n        <h1 className=\"titles\">Your Info: </h1>\r\n        <form onSubmit={addUserData}>\r\n          <div className=\"order-div-user\">\r\n            <label>Email </label>\r\n            <input\r\n              className=\"order-input\"\r\n              name=\"email\"\r\n              type=\"text\"\r\n              placeholder=\"enter email\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"order-div-user\">\r\n            <label>Name </label>\r\n            <input\r\n              className=\"order-input\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"enter name\"\r\n            />\r\n          </div>\r\n          <div className=\"order-div-user\">\r\n            <label>Lastname </label>\r\n            <input\r\n              className=\"order-input\"\r\n              name=\"lastname\"\r\n              type=\"text\"\r\n              placeholder=\"enter lastname\"\r\n            />\r\n          </div>\r\n          <div className=\"order-div-user\">\r\n            <label>Street </label>\r\n            <input\r\n              className=\"order-input\"\r\n              name=\"street\"\r\n              type=\"text\"\r\n              placeholder=\"enter street\"\r\n            />\r\n          </div>\r\n          <div className=\"order-div-user\">\r\n            <label>City </label>\r\n            <input\r\n              className=\"order-input\"\r\n              name=\"city\"\r\n              type=\"text\"\r\n              placeholder=\"enter city\"\r\n            />\r\n          </div>\r\n          <button className=\"order-button\" type=\"submit\">\r\n            <b>Place Order</b>\r\n          </button>\r\n        </form>\r\n        <h1 className=\"order-total\">\r\n          Total: <b className=\"total-color\">{total}</b> €\r\n        </h1>\r\n\r\n        {warning === true ? (\r\n          <h2 style={{ color: \"red\" }}>\r\n            !!! Your information is uncomplete !!!\r\n          </h2>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function OrderSuccess({ thankYou }) {\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: \"center\", color: \"brown\" }}>\r\n        Thank you {thankYou} for your order!\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./styles/Admin.css\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Admin() {\r\n  const [orders, setOrders] = useState([]);\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:5000/api/orders\", { withCredentials: true })\r\n      .then((response) => {\r\n        setOrders(response.data);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"admin\">\r\n      {orders\r\n        .map((order, i) => {\r\n          return (\r\n            <div key={i} className=\"admin-order\">\r\n              <div className=\"admin-left\">\r\n                <h3>{i + 1}.</h3>\r\n                <p>Created at: {order.createdAt}</p>\r\n                <p>\r\n                  Email: <b>{order.userEmail}</b>\r\n                </p>\r\n                <p>\r\n                  Customer:{\" \"}\r\n                  <b>\r\n                    {order.userName} {order.userLastName}\r\n                  </b>\r\n                </p>\r\n                <p>\r\n                  Street: <b>{order.userStreet}</b>\r\n                </p>\r\n                <p>\r\n                  City: <b>{order.userCity}</b>\r\n                </p>\r\n              </div>\r\n              <div className=\"admin-right\">\r\n                <h2 className=\"colorz\">Ordered items: </h2>\r\n                {order.orderDetails.map((detail, i) => {\r\n                  return (\r\n                    <div key={i} className=\"admin-product\">\r\n                      <p>\r\n                        <b className=\"colorz\">{detail.stock} x</b>{\" \"}\r\n                        <b>{detail.name}</b>\r\n                      </p>\r\n                      <p>\r\n                        <b>{detail.price}</b> €\r\n                      </p>\r\n                    </div>\r\n                  );\r\n                })}\r\n                <h1>\r\n                  Total: <b className=\"colorz\">{order.total}</b> €\r\n                </h1>\r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n        .reverse()}\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { Switch, Route, withRouter, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Home from \"./components/Home\";\nimport Detail from \"./components/Detail\";\nimport Footer from \"./components/Footer\";\nimport Navbar from \"./components/Navbar\";\nimport Cart from \"./components/Cart\";\nimport Order from \"./components/Order\";\nimport OrderSuccess from \"./components/OrderSuccess\";\nimport Admin from \"./components/Admin\";\n\nfunction App() {\n  let history = useHistory();\n\n  const [products, setProducts] = useState([]);\n  const [initialState, setInitialState] = useState([]);\n\n  const [basketItems, setBasketItems] = useState(0);\n  const [total, setTotal] = useState(0);\n\n  const [thankYou, setThankYou] = useState(\"\");\n  const [orderData, setOrderData] = useState([]);\n\n  const [warning, setWarning] = useState(false);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/api/products\", { withCredentials: true })\n      .then((response) => {\n        setProducts(response.data);\n        setInitialState(response.data);\n      });\n  }, []);\n\n  const handleAddToCart = (id) => {\n    const newProducts = products.map((product) => {\n      if (product.id === id) {\n        const updatedProduct = {\n          ...product,\n          stock: product.stock - 1,\n        };\n        return updatedProduct;\n      }\n      return product;\n    });\n\n    setProducts(newProducts);\n    setBasketItems(basketItems + 1);\n    setTotal(total + products[id].price);\n  };\n\n  const handleDeleteFromCart = (id) => {\n    const newProducts = products.map((product) => {\n      if (product.id === id) {\n        const updatedProduct = {\n          ...product,\n          stock: product.stock + 1,\n        };\n        return updatedProduct;\n      }\n      return product;\n    });\n\n    setProducts(newProducts);\n    setBasketItems(basketItems - 1);\n    setTotal(total - products[id].price);\n  };\n\n  const handleOrder = () => {\n    const result = products\n      .filter((product) => {\n        return product.stock !== initialState[product.id].stock;\n      })\n      .map((item) => {\n        return {\n          name: item.name,\n          id: item.id,\n          stock: initialState[item.id].stock - item.stock,\n          price: (initialState[item.id].stock - item.stock) * item.price,\n          oneItemPrice: item.price,\n        };\n      });\n\n    setOrderData(result);\n  };\n\n  const addUserData = (e) => {\n    e.preventDefault();\n\n    let userInfo = {\n      userEmail: e.target.email.value,\n      userName: e.target.name.value,\n      userLastName: e.target.lastname.value,\n      userStreet: e.target.street.value,\n      userCity: e.target.city.value,\n      orderDetails: orderData,\n      total: total,\n    };\n\n    let orderedDataMapJoin = orderData.map((el) => {return el.name}).join(' , ')\n\n    axios\n      .post(\"http://localhost:5000/api/newOrder\", userInfo)\n      .then(() => {\n        axios\n          .post(\n            `http://localhost:5000/api/send-email`,\n            {\n              email: e.target.email.value,\n              /* message: `THANK YOU: ${\n                e.target.name.value\n              }, FOR ORDERING: ${JSON.stringify(\n                orderData\n              )}, IN TOTAL OF: ${JSON.stringify(total)} €`, */\n              orderData: JSON.stringify(orderedDataMapJoin),\n              name: e.target.name.value,\n              total: JSON.stringify(total),\n            },\n\n            { withCredentials: true }\n          )\n          .then(() => {\n            console.log(\"send mail\");\n          });\n\n        updateAllProducts();\n        setBasketItems(0);\n        setTotal(0);\n        setInitialState(products);\n        setThankYou(e.target.name.value);\n        setWarning(false);\n        history.push(\"/orderSuccess\");\n      })\n      .catch(() => {\n        setWarning(true);\n      });\n  };\n\n  const updateAllProducts = () => {\n    axios\n      .patch(`http://localhost:5000/api/products`, {\n        products,\n      })\n      .then((response) => {\n        setProducts(response.data);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <Navbar basketItems={basketItems} />\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={() => {\n            return <Home products={products} />;\n          }}\n        />\n        <Route\n          exact\n          path=\"/detail/:id\"\n          render={(routeProps) => {\n            return (\n              <Detail\n                {...routeProps}\n                handleAddToCart={handleAddToCart}\n                handleDeleteFromCart={handleDeleteFromCart}\n                products={products}\n              />\n            );\n          }}\n        />\n        <Route\n          exact\n          path=\"/cart\"\n          render={() => {\n            return (\n              <Cart\n                handleAddToCart={handleAddToCart}\n                handleDeleteFromCart={handleDeleteFromCart}\n                total={total}\n                products={products}\n                initialState={initialState}\n                handleOrder={handleOrder}\n              />\n            );\n          }}\n        />\n        <Route\n          exact\n          path=\"/order\"\n          render={() => {\n            return (\n              <Order\n                addUserData={addUserData}\n                products={products}\n                initialState={initialState}\n                total={total}\n                warning={warning}\n              />\n            );\n          }}\n        />\n        <Route\n          exact\n          path=\"/orderSuccess\"\n          render={() => {\n            return <OrderSuccess thankYou={thankYou} />;\n          }}\n        />\n        <Route\n          exact\n          path=\"/admin\"\n          render={() => {\n            return <Admin />;\n          }}\n        />\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}