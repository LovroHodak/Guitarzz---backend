(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},57:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),r=c(29),n=c.n(r),i=c(8),l=(c(37),c(10)),j=c(6),d=(c(38),c(2)),o=c(11),b=c.n(o),u=(c(57),c(0));function h(e){var t=e.products;return Object(u.jsx)("div",{className:"home",children:t.map((function(e){return Object(u.jsxs)("div",{className:"home-map",children:[Object(u.jsx)("img",{src:e.image,alt:e.name,className:"home-img"}),Object(u.jsxs)("div",{className:"home-div-content",children:[Object(u.jsx)("h2",{className:"home-name",children:e.name}),Object(u.jsxs)("p",{children:["Price: ",Object(u.jsxs)("b",{children:[e.price," \u20ac"]})]}),Object(u.jsx)(i.b,{className:"home-link",to:"/detail/".concat(e._id),children:Object(u.jsx)("button",{className:"home-button",children:"View"})})]})]},e._id)}))})}c(63);var O=c(31);function m(e){var t=e.match,c=e.handleAddToCart,a=e.products,r=e.handleDeleteFromCart,n=Object(s.useState)({}),i=Object(j.a)(n,2),d=i[0],o=i[1],h=Object(s.useState)(),m=Object(j.a)(h,2),x=m[0],p=m[1],f=t.params.id;Object(s.useEffect)((function(){b.a.get("http://localhost:5000/api/products/".concat(f),{withCredentials:!0}).then((function(e){o(e.data),p(e.data.stock)}))}),[]);var v=function(){c(d.id),o(Object(l.a)(Object(l.a)({},d),{},{stock:d.stock-1}))},N=function(){r(d.id),o(Object(l.a)(Object(l.a)({},d),{},{stock:d.stock+1}))};return Object(u.jsxs)("div",{className:"detail",children:[Object(u.jsxs)("div",{className:"detail-top",children:[Object(u.jsx)("div",{className:"detail-div-img",children:Object(u.jsx)(O.a,{src:d.image,alt:d.name,className:"detail-img"})}),Object(u.jsxs)("div",{className:"detail-info",children:[Object(u.jsxs)("p",{children:["Name: ",Object(u.jsx)("b",{children:d.name})]}),Object(u.jsxs)("p",{children:["Price: ",Object(u.jsxs)("b",{children:[d.price," \u20ac"]})]}),Object(u.jsxs)("p",{children:["In Stock:"," ",Object(u.jsx)("b",{children:a.filter((function(e){return e._id===f})).map((function(e,t){return Object(u.jsx)("b",{children:e.stock},t)}))})]}),a.map((function(e){if(e._id==f&&e.stock>0)return Object(u.jsx)("button",{onClick:v,children:"Add"},e._id)})),a.map((function(e){if(e._id===f&&x!==e.stock)return Object(u.jsx)("button",{onClick:N,children:"Delete"},e._id)}))]})]}),Object(u.jsx)("div",{className:"detail-bottom",children:Object(u.jsx)("p",{children:d.description})})]})}c(64);function x(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)(i.b,{style:{textDecoration:"none",color:"white"},to:"/admin",children:Object(u.jsx)("h1",{children:"Admin"})})})}c(65);function p(e){var t=e.basketItems;return Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsx)("h1",{className:"navbar-info",children:"Info"}),Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSop6suReRaIfINd-3HAcAFv6COrVU5E9-Rzg&usqp=CAU",alt:"logo",className:"navbar-logo"})}),Object(u.jsx)("div",{className:"navbar-cart",children:Object(u.jsx)("h1",{children:Object(u.jsxs)(i.b,{className:"navbar-link",to:"/cart",children:["Cart (",t,")"]})})})]})}c(66);function f(e){var t=e.products,c=e.initialState,s=e.total,a=e.handleAddToCart,r=e.handleDeleteFromCart,n=e.handleOrder;return Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsx)("div",{className:"cart-items",children:t.filter((function(e){return e.stock!==c[e.id].stock})).map((function(e){return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("div",{className:"cart-div-img",children:Object(u.jsx)("img",{src:e.image,alt:e.name,className:"cart-img"})}),Object(u.jsxs)("div",{className:"cart-info",children:[Object(u.jsx)("h1",{children:e.name}),Object(u.jsxs)("p",{children:["Price:"," ",Object(u.jsx)("b",{className:"cart-total-b",children:(c[e.id].stock-e.stock)*e.price})," ","\u20ac"]})]}),Object(u.jsxs)("div",{className:"cart-volume",children:[Object(u.jsxs)("p",{children:["Nr. of items:"," ",Object(u.jsx)("b",{children:c[e.id].stock-e.stock})]}),Object(u.jsxs)("div",{className:"cart-buttons",children:[e.stock>0?Object(u.jsx)("button",{onClick:function(){a(e.id)},className:"cart-button",children:"+"}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("button",{onClick:function(){r(e.id)},className:"cart-button",children:"-"})]})]})]},e.id)}))}),0===s?Object(u.jsx)("div",{className:"cart-empty",children:Object(u.jsx)("h1",{children:"Your cart is empty!"})}):Object(u.jsxs)("div",{className:"cart-bottom",children:[Object(u.jsxs)("p",{children:["Total: ",Object(u.jsx)("b",{className:"cart-total-b",children:s})," \u20ac"]}),Object(u.jsx)(i.b,{to:"/order",children:Object(u.jsx)("button",{onClick:function(){return n()},className:"cart-order-button",children:"Order"})})]})]})}c(67);function v(e){var t=e.products,c=e.initialState,s=e.total,a=e.addUserData,r=e.warning;return Object(u.jsxs)("div",{className:"order",children:[Object(u.jsxs)("div",{className:"order-products",children:[Object(u.jsx)("h1",{className:"titles",children:"Your Products: "}),t.filter((function(e){return e.stock!==c[e.id].stock})).map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:[Object(u.jsxs)("i",{className:"total-color",children:[t+1,"."]})," ",e.name]}),Object(u.jsxs)("p",{children:["Items: ",Object(u.jsx)("b",{children:c[e.id].stock-e.stock})]}),Object(u.jsxs)("p",{children:["Price:"," ",Object(u.jsx)("b",{children:(c[e.id].stock-e.stock)*e.price})," ","\u20ac"]})]},e.id)}))]}),Object(u.jsxs)("div",{className:"order-user",children:[Object(u.jsx)("h1",{className:"titles",children:"Your Info: "}),Object(u.jsxs)("form",{onSubmit:a,children:[Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Email "}),Object(u.jsx)("input",{className:"order-input",name:"email",type:"text",placeholder:"enter email"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Name "}),Object(u.jsx)("input",{className:"order-input",name:"name",type:"text",placeholder:"enter name"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Lastname "}),Object(u.jsx)("input",{className:"order-input",name:"lastname",type:"text",placeholder:"enter lastname"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Street "}),Object(u.jsx)("input",{className:"order-input",name:"street",type:"text",placeholder:"enter street"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"City "}),Object(u.jsx)("input",{className:"order-input",name:"city",type:"text",placeholder:"enter city"})]}),Object(u.jsx)("button",{className:"order-button",type:"submit",children:Object(u.jsx)("b",{children:"Place Order"})})]}),Object(u.jsxs)("h1",{className:"order-total",children:["Total: ",Object(u.jsx)("b",{className:"total-color",children:s})," \u20ac"]}),!0===r?Object(u.jsx)("h2",{style:{color:"red"},children:"!!! Your information is uncomplete !!!"}):Object(u.jsx)(u.Fragment,{})]})]})}function N(e){var t=e.thankYou;return Object(u.jsx)("div",{children:Object(u.jsxs)("h1",{style:{textAlign:"center",color:"brown"},children:["Thank you ",t," for your order!"]})})}c(68);function k(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){b.a.get("http://localhost:5000/api/orders",{withCredentials:!0}).then((function(e){a(e.data)}))}),[]),Object(u.jsx)("div",{className:"admin",children:c.map((function(e,t){return Object(u.jsxs)("div",{className:"admin-order",children:[Object(u.jsxs)("div",{className:"admin-left",children:[Object(u.jsxs)("h3",{children:[t+1,"."]}),Object(u.jsxs)("p",{children:["Created at: ",e.createdAt]}),Object(u.jsxs)("p",{children:["Email: ",Object(u.jsx)("b",{children:e.userEmail})]}),Object(u.jsxs)("p",{children:["Customer:"," ",Object(u.jsxs)("b",{children:[e.userName," ",e.userLastName]})]}),Object(u.jsxs)("p",{children:["Street: ",Object(u.jsx)("b",{children:e.userStreet})]}),Object(u.jsxs)("p",{children:["City: ",Object(u.jsx)("b",{children:e.userCity})]})]}),Object(u.jsxs)("div",{className:"admin-right",children:[Object(u.jsx)("h2",{className:"colorz",children:"Ordered items: "}),e.orderDetails.map((function(e,t){return Object(u.jsxs)("div",{className:"admin-product",children:[Object(u.jsxs)("p",{children:[Object(u.jsxs)("b",{className:"colorz",children:[e.stock," x"]})," ",Object(u.jsx)("b",{children:e.name})]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:e.price})," \u20ac"]})]},t)})),Object(u.jsxs)("h1",{children:["Total: ",Object(u.jsx)("b",{className:"colorz",children:e.total})," \u20ac"]})]})]},t)})).reverse()})}var g=Object(d.g)((function(){var e=Object(d.f)(),t=Object(s.useState)([]),c=Object(j.a)(t,2),a=c[0],r=c[1],n=Object(s.useState)([]),i=Object(j.a)(n,2),o=i[0],O=i[1],g=Object(s.useState)(0),C=Object(j.a)(g,2),S=C[0],y=C[1],A=Object(s.useState)(0),w=Object(j.a)(A,2),D=w[0],I=w[1],E=Object(s.useState)(""),T=Object(j.a)(E,2),F=T[0],P=T[1],_=Object(s.useState)([]),Y=Object(j.a)(_,2),z=Y[0],J=Y[1],U=Object(s.useState)(!1),L=Object(j.a)(U,2),R=L[0],q=L[1];Object(s.useEffect)((function(){b.a.get("http://localhost:5000/api/products",{withCredentials:!0}).then((function(e){r(e.data),O(e.data)}))}),[]);var V=function(e){var t=a.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{stock:t.stock-1}):t}));r(t),y(S+1),I(D+a[e].price)},B=function(e){var t=a.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{stock:t.stock+1}):t}));r(t),y(S-1),I(D-a[e].price)},G=function(){var e=a.filter((function(e){return e.stock!==o[e.id].stock})).map((function(e){return{name:e.name,id:e.id,stock:o[e.id].stock-e.stock,price:(o[e.id].stock-e.stock)*e.price,oneItemPrice:e.price}}));J(e)},H=function(t){t.preventDefault();var c={userEmail:t.target.email.value,userName:t.target.name.value,userLastName:t.target.lastname.value,userStreet:t.target.street.value,userCity:t.target.city.value,orderDetails:z,total:D},s=z.map((function(e){return e.name})).join(" , ");b.a.post("http://localhost:5000/api/newOrder",c).then((function(){b.a.post("http://localhost:5000/api/send-email",{email:t.target.email.value,orderData:JSON.stringify(s),name:t.target.name.value,total:JSON.stringify(D)},{withCredentials:!0}).then((function(){console.log("send mail")})),M(),y(0),I(0),O(a),P(t.target.name.value),q(!1),e.push("/orderSuccess")})).catch((function(){q(!0)}))},M=function(){b.a.patch("http://localhost:5000/api/products",{products:a}).then((function(e){r(e.data)}))};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{basketItems:S}),Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",render:function(){return Object(u.jsx)(h,{products:a})}}),Object(u.jsx)(d.a,{exact:!0,path:"/detail/:id",render:function(e){return Object(u.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{handleAddToCart:V,handleDeleteFromCart:B,products:a}))}}),Object(u.jsx)(d.a,{exact:!0,path:"/cart",render:function(){return Object(u.jsx)(f,{handleAddToCart:V,handleDeleteFromCart:B,total:D,products:a,initialState:o,handleOrder:G})}}),Object(u.jsx)(d.a,{exact:!0,path:"/order",render:function(){return Object(u.jsx)(v,{addUserData:H,products:a,initialState:o,total:D,warning:R})}}),Object(u.jsx)(d.a,{exact:!0,path:"/orderSuccess",render:function(){return Object(u.jsx)(N,{thankYou:F})}}),Object(u.jsx)(d.a,{exact:!0,path:"/admin",render:function(){return Object(u.jsx)(k,{})}})]}),Object(u.jsx)(x,{})]})}));n.a.render(Object(u.jsx)(i.a,{children:Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(g,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.3fe3160e.chunk.js.map