(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},57:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),r=c(29),n=c.n(r),i=c(8),j=(c(37),c(10)),d=c(6),l=(c(38),c(2)),o=c(11),b=c.n(o),u=(c(57),c(0));function O(e){var t=e.products;return Object(u.jsx)("div",{className:"home",children:t.map((function(e){return Object(u.jsxs)("div",{className:"home-map",children:[Object(u.jsx)("img",{src:e.image,alt:e.name,className:"home-img"}),Object(u.jsxs)("div",{className:"home-div-content",children:[Object(u.jsx)("h2",{className:"home-name",children:e.name}),Object(u.jsxs)("p",{children:["Price: ",Object(u.jsxs)("b",{children:[e.price," \u20ac"]})]}),Object(u.jsx)(i.b,{className:"home-link",to:"/detail/".concat(e._id),children:Object(u.jsx)("button",{className:"home-button",children:"View"})})]})]},e._id)}))})}c(63);var h=c(31),m="https://guitarzz.herokuapp.com//api";function x(e){var t=e.match,c=e.handleAddToCart,a=e.products,r=e.handleDeleteFromCart,n=Object(s.useState)({}),i=Object(d.a)(n,2),l=i[0],o=i[1],O=Object(s.useState)(),x=Object(d.a)(O,2),p=x[0],f=x[1],v=t.params.id;Object(s.useEffect)((function(){b.a.get("".concat(m,"/api/products/").concat(v),{withCredentials:!0}).then((function(e){o(e.data),f(e.data.stock)}))}),[]);var N=function(){c(l.id),o(Object(j.a)(Object(j.a)({},l),{},{stock:l.stock-1}))},k=function(){r(l.id),o(Object(j.a)(Object(j.a)({},l),{},{stock:l.stock+1}))};return Object(u.jsxs)("div",{className:"detail",children:[Object(u.jsxs)("div",{className:"detail-top",children:[Object(u.jsx)("div",{className:"detail-div-img",children:Object(u.jsx)(h.a,{src:l.image,alt:l.name,className:"detail-img"})}),Object(u.jsxs)("div",{className:"detail-info",children:[Object(u.jsxs)("p",{children:["Name: ",Object(u.jsx)("b",{children:l.name})]}),Object(u.jsxs)("p",{children:["Price: ",Object(u.jsxs)("b",{children:[l.price," \u20ac"]})]}),Object(u.jsxs)("p",{children:["In Stock:"," ",Object(u.jsx)("b",{children:a.filter((function(e){return e._id===v})).map((function(e,t){return Object(u.jsx)("b",{children:e.stock},t)}))})]}),a.map((function(e){if(e._id==v&&e.stock>0)return Object(u.jsx)("button",{onClick:N,children:"Add"},e._id)})),a.map((function(e){if(e._id===v&&p!==e.stock)return Object(u.jsx)("button",{onClick:k,children:"Delete"},e._id)}))]})]}),Object(u.jsx)("div",{className:"detail-bottom",children:Object(u.jsx)("p",{children:l.description})})]})}c(64);function p(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)(i.b,{style:{textDecoration:"none",color:"white"},to:"/admin",children:Object(u.jsx)("h1",{children:"Admin"})})})}c(65);function f(e){var t=e.basketItems;return Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsx)("h1",{className:"navbar-info",children:"Info"}),Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSop6suReRaIfINd-3HAcAFv6COrVU5E9-Rzg&usqp=CAU",alt:"logo",className:"navbar-logo"})}),Object(u.jsx)("div",{className:"navbar-cart",children:Object(u.jsx)("h1",{children:Object(u.jsxs)(i.b,{className:"navbar-link",to:"/cart",children:["Cart (",t,")"]})})})]})}c(66);function v(e){var t=e.products,c=e.initialState,s=e.total,a=e.handleAddToCart,r=e.handleDeleteFromCart,n=e.handleOrder;return Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsx)("div",{className:"cart-items",children:t.filter((function(e){return e.stock!==c[e.id].stock})).map((function(e){return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("div",{className:"cart-div-img",children:Object(u.jsx)("img",{src:e.image,alt:e.name,className:"cart-img"})}),Object(u.jsxs)("div",{className:"cart-info",children:[Object(u.jsx)("h1",{children:e.name}),Object(u.jsxs)("p",{children:["Price:"," ",Object(u.jsx)("b",{className:"cart-total-b",children:(c[e.id].stock-e.stock)*e.price})," ","\u20ac"]})]}),Object(u.jsxs)("div",{className:"cart-volume",children:[Object(u.jsxs)("p",{children:["Nr. of items:"," ",Object(u.jsx)("b",{children:c[e.id].stock-e.stock})]}),Object(u.jsxs)("div",{className:"cart-buttons",children:[e.stock>0?Object(u.jsx)("button",{onClick:function(){a(e.id)},className:"cart-button",children:"+"}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("button",{onClick:function(){r(e.id)},className:"cart-button",children:"-"})]})]})]},e.id)}))}),0===s?Object(u.jsx)("div",{className:"cart-empty",children:Object(u.jsx)("h1",{children:"Your cart is empty!"})}):Object(u.jsxs)("div",{className:"cart-bottom",children:[Object(u.jsxs)("p",{children:["Total: ",Object(u.jsx)("b",{className:"cart-total-b",children:s})," \u20ac"]}),Object(u.jsx)(i.b,{to:"/order",children:Object(u.jsx)("button",{onClick:function(){return n()},className:"cart-order-button",children:"Order"})})]})]})}c(67);function N(e){var t=e.products,c=e.initialState,s=e.total,a=e.addUserData,r=e.warning;return Object(u.jsxs)("div",{className:"order",children:[Object(u.jsxs)("div",{className:"order-products",children:[Object(u.jsx)("h1",{className:"titles",children:"Your Products: "}),t.filter((function(e){return e.stock!==c[e.id].stock})).map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:[Object(u.jsxs)("i",{className:"total-color",children:[t+1,"."]})," ",e.name]}),Object(u.jsxs)("p",{children:["Items: ",Object(u.jsx)("b",{children:c[e.id].stock-e.stock})]}),Object(u.jsxs)("p",{children:["Price:"," ",Object(u.jsx)("b",{children:(c[e.id].stock-e.stock)*e.price})," ","\u20ac"]})]},e.id)}))]}),Object(u.jsxs)("div",{className:"order-user",children:[Object(u.jsx)("h1",{className:"titles",children:"Your Info: "}),Object(u.jsxs)("form",{onSubmit:a,children:[Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Email "}),Object(u.jsx)("input",{className:"order-input",name:"email",type:"text",placeholder:"enter email"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Name "}),Object(u.jsx)("input",{className:"order-input",name:"name",type:"text",placeholder:"enter name"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Lastname "}),Object(u.jsx)("input",{className:"order-input",name:"lastname",type:"text",placeholder:"enter lastname"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"Street "}),Object(u.jsx)("input",{className:"order-input",name:"street",type:"text",placeholder:"enter street"})]}),Object(u.jsxs)("div",{className:"order-div-user",children:[Object(u.jsx)("label",{children:"City "}),Object(u.jsx)("input",{className:"order-input",name:"city",type:"text",placeholder:"enter city"})]}),Object(u.jsx)("button",{className:"order-button",type:"submit",children:Object(u.jsx)("b",{children:"Place Order"})})]}),Object(u.jsxs)("h1",{className:"order-total",children:["Total: ",Object(u.jsx)("b",{className:"total-color",children:s})," \u20ac"]}),!0===r?Object(u.jsx)("h2",{style:{color:"red"},children:"!!! Your information is uncomplete !!!"}):Object(u.jsx)(u.Fragment,{})]})]})}function k(e){var t=e.thankYou;return Object(u.jsx)("div",{children:Object(u.jsxs)("h1",{style:{textAlign:"center",color:"brown"},children:["Thank you ",t," for your order!"]})})}c(68);function g(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){b.a.get("".concat(m,"/api/orders"),{withCredentials:!0}).then((function(e){a(e.data)}))}),[]),Object(u.jsx)("div",{className:"admin",children:c.map((function(e,t){return Object(u.jsxs)("div",{className:"admin-order",children:[Object(u.jsxs)("div",{className:"admin-left",children:[Object(u.jsxs)("h3",{children:[t+1,"."]}),Object(u.jsxs)("p",{children:["Created at: ",e.createdAt]}),Object(u.jsxs)("p",{children:["Email: ",Object(u.jsx)("b",{children:e.userEmail})]}),Object(u.jsxs)("p",{children:["Customer:"," ",Object(u.jsxs)("b",{children:[e.userName," ",e.userLastName]})]}),Object(u.jsxs)("p",{children:["Street: ",Object(u.jsx)("b",{children:e.userStreet})]}),Object(u.jsxs)("p",{children:["City: ",Object(u.jsx)("b",{children:e.userCity})]})]}),Object(u.jsxs)("div",{className:"admin-right",children:[Object(u.jsx)("h2",{className:"colorz",children:"Ordered items: "}),e.orderDetails.map((function(e,t){return Object(u.jsxs)("div",{className:"admin-product",children:[Object(u.jsxs)("p",{children:[Object(u.jsxs)("b",{className:"colorz",children:[e.stock," x"]})," ",Object(u.jsx)("b",{children:e.name})]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:e.price})," \u20ac"]})]},t)})),Object(u.jsxs)("h1",{children:["Total: ",Object(u.jsx)("b",{className:"colorz",children:e.total})," \u20ac"]})]})]},t)})).reverse()})}var C=Object(l.g)((function(){var e=Object(l.f)(),t=Object(s.useState)([]),c=Object(d.a)(t,2),a=c[0],r=c[1],n=Object(s.useState)([]),i=Object(d.a)(n,2),o=i[0],h=i[1],C=Object(s.useState)(0),S=Object(d.a)(C,2),y=S[0],A=S[1],w=Object(s.useState)(0),D=Object(d.a)(w,2),I=D[0],E=D[1],T=Object(s.useState)(""),F=Object(d.a)(T,2),P=F[0],_=F[1],z=Object(s.useState)([]),Y=Object(d.a)(z,2),J=Y[0],U=Y[1],L=Object(s.useState)(!1),R=Object(d.a)(L,2),q=R[0],V=R[1];Object(s.useEffect)((function(){b.a.get("".concat(m,"/products"),{withCredentials:!0}).then((function(e){r(e.data),h(e.data)}))}),[]);var B=function(e){var t=a.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{stock:t.stock-1}):t}));r(t),A(y+1),E(I+a[e].price)},G=function(e){var t=a.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{stock:t.stock+1}):t}));r(t),A(y-1),E(I-a[e].price)},H=function(){var e=a.filter((function(e){return e.stock!==o[e.id].stock})).map((function(e){return{name:e.name,id:e.id,stock:o[e.id].stock-e.stock,price:(o[e.id].stock-e.stock)*e.price,oneItemPrice:e.price}}));U(e)},M=function(t){t.preventDefault();var c={userEmail:t.target.email.value,userName:t.target.name.value,userLastName:t.target.lastname.value,userStreet:t.target.street.value,userCity:t.target.city.value,orderDetails:J,total:I},s=J.map((function(e){return e.name})).join(" , ");b.a.post("".concat(m,"/api/newOrder"),c).then((function(){b.a.post("".concat(m,"/api/send-email"),{email:t.target.email.value,orderData:JSON.stringify(s),name:t.target.name.value,total:JSON.stringify(I)},{withCredentials:!0}).then((function(){console.log("send mail")})),K(),A(0),E(0),h(a),_(t.target.name.value),V(!1),e.push("/orderSuccess")})).catch((function(){V(!0)}))},K=function(){b.a.patch("".concat(m,"/api/products"),{products:a}).then((function(e){r(e.data)}))};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(f,{basketItems:y}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(u.jsx)(O,{products:a})}}),Object(u.jsx)(l.a,{exact:!0,path:"/detail/:id",render:function(e){return Object(u.jsx)(x,Object(j.a)(Object(j.a)({},e),{},{handleAddToCart:B,handleDeleteFromCart:G,products:a}))}}),Object(u.jsx)(l.a,{exact:!0,path:"/cart",render:function(){return Object(u.jsx)(v,{handleAddToCart:B,handleDeleteFromCart:G,total:I,products:a,initialState:o,handleOrder:H})}}),Object(u.jsx)(l.a,{exact:!0,path:"/order",render:function(){return Object(u.jsx)(N,{addUserData:M,products:a,initialState:o,total:I,warning:q})}}),Object(u.jsx)(l.a,{exact:!0,path:"/orderSuccess",render:function(){return Object(u.jsx)(k,{thankYou:P})}}),Object(u.jsx)(l.a,{exact:!0,path:"/admin",render:function(){return Object(u.jsx)(g,{})}})]}),Object(u.jsx)(p,{})]})}));n.a.render(Object(u.jsx)(i.a,{children:Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(C,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.27179d11.chunk.js.map